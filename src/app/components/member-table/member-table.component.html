<ng-container class="lg:p-6">
  <tui-loader
    style="max-height:calc(100vh - 138px);"
    class="inline-flex h-full max-h-[calc(100vh - 105px)] overflow-y-auto rounded-3xl shadow-sm-light bg-white dark:bg-gray-800 mt-4"
    [showLoader]="members.length == 0"
  >
    <app-table-skeleton *ngIf="members.length == 0" class="w-full h-full"></app-table-skeleton>
    <div *ngIf="members.length > 0"
         class="flex flex-col pt-10 pb-0 p-5">
      <div class="z-30" *ngIf="members.length > 0">
        <div class="mb-5 flex flex-wrap justify-between">
          <h1 class="text-2xl ml-6">Member :</h1>
          <button (click)="showDialog()"
                  class="bg-[#7bbcd1] hover:bg-[#295e6e] dark:bg-[#295e6e] dark:hover:bg-[#7bbcd1] border-none py-2.5 px-5 me-2 mb-2 text-sm font-medium text-white rounded-lg border border-gray-200 focus:z-10">
            Add member
          </button>
        </div>
        <section class="container flex flex-col h-full w-full relative px-4 mx-auto z-30">
          <div
            class="-mx-4 -my-2 overflow-x-auto scrollbar scrollbar-thumb-gray-200 scrollbar-track-gray-transparent sm:-mx-6 lg:-mx-8">
            <div class="inline-block min-w-full py-2 align-middle md:px-6 lg:px-8">
              <div class="overflow-hidden dark:border-gray-700 md:rounded-lg">
                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700 mb-5">
                  <thead class="bg-transparent">
                  <tr>
                    <th scope="col"
                        class="py-3.5 px-4 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400">
                      <div class="flex items-center gap-x-3">
                        <form [formGroup]="checkboxForm">
                          <tui-checkbox
                            formControlName="check"
                          ></tui-checkbox>
                        </form>
                        <button class="flex items-center gap-x-2">
                          <svg class="h-4 w-4 text-gray-50 fill-gray-400" xmlns="http://www.w3.org/2000/svg"
                               viewBox="0 0 24 24">
                            <path
                              d="M20.29 8.29 16 12.58l-1.3-1.29-1.41 1.42 2.7 2.7 5.72-5.7zM4 8a3.91 3.91 0 0 0 4 4 3.91 3.91 0 0 0 4-4 3.91 3.91 0 0 0-4-4 3.91 3.91 0 0 0-4 4zm6 0a1.91 1.91 0 0 1-2 2 1.91 1.91 0 0 1-2-2 1.91 1.91 0 0 1 2-2 1.91 1.91 0 0 1 2 2zM4 18a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1h2v-1a5 5 0 0 0-5-5H7a5 5 0 0 0-5 5v1h2z"></path>
                          </svg>
                          <span>identity Number</span>
                        </button>
                      </div>
                    </th>

                    <th scope="col"
                        class="px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400">
                      member
                    </th>

                    <th scope="col"
                        class="px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400">
                      birth date
                    </th>

                    <th scope="col"
                        class="px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400">
                      nationality
                    </th>

                    <th scope="col"
                        class="px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400">
                      gender
                    </th>

                    <th scope="col"
                        class="px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400">
                      createdAt
                    </th>

                    <th scope="col"
                        class="px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400">
                      accession Date
                    </th>

                    <th scope="col" class="relative py-3.5 px-4">
                      <span class="sr-only">Actions</span>
                    </th>
                  </tr>
                  </thead>
                  <tbody class="divide-y divide-gray-200 dark:divide-gray-700 bg-transparent">
                  <tr *ngFor="let m of members">
                    <td
                      class="px-4 py-4 text-sm flex items-center  font-medium text-gray-700 dark:text-gray-200 whitespace-nowrap">
                      <div class="flex items-center gap-x-3">
                        <form [formGroup]="checkboxForm" class="flex justify-center items-center">
                          <tui-checkbox
                            formControlName="check"
                          ></tui-checkbox>
                        </form>
                        <span>#{{ m.identityNumber + " " }} [{{ m.identityDocument }}]</span>
                      </div>
                    </td>
                    <td class="px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap">
                      <div class="flex items-center gap-x-2">
                        <img class="object-cover w-8 h-8 rounded-full" loading="lazy"
                             [ngSrc]="m.image || 'https://res.cloudinary.com/dggvib6ib/image/upload/v1679715870/blank-profile-picture-973460_1280_de4vlg.jpg'"
                             alt="" height="32" width="32">
                        <div>
                          <h2
                            class="text-sm font-medium text-gray-800 dark:text-white ">{{ m.firstname + " " + m.lastname }}</h2>
                          <p class="text-xs font-normal text-gray-600 dark:text-gray-400">{{ m.email }}</p>
                        </div>
                      </div>
                    </td>
                    <td
                      class="px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap">{{ m.birthDate }}
                    </td>
                    <td
                      class="px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap">{{ m.nationality }}
                    </td>
                    <td class="px-4 py-4 text-sm font-medium text-gray-700 whitespace-nowrap">
                      <div
                        class="inline-flex items-center px-3 py-1 rounded-full gap-x-2  text-gray-500 dark:text-gray-300">
                        <h2 class="text-sm font-normal">{{ m.gender }}</h2>
                        <svg *ngIf="m.gender == Gender.MALE" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                             class="fill-blue-500 opacity-40"
                             viewBox="0 0 24 24">
                          <circle cx="12" cy="4" r="2"></circle>
                          <path d="M15 7H9a1 1 0 0 0-1 1v7h2v7h4v-7h2V8a1 1 0 0 0-1-1z"></path>
                        </svg>
                        <svg *ngIf="m.gender == Gender.FEMALE" xmlns="http://www.w3.org/2000/svg" width="24"
                             height="24"
                             class="fill-emerald-500 opacity-40" viewBox="0 0 24 24">
                          <circle cx="12" cy="4" r="2"></circle>
                          <path
                            d="M14.948 7.684A.997.997 0 0 0 14 7h-4a.998.998 0 0 0-.948.684l-2 6 1.775.593L8 18h2v4h4v-4h2l-.827-3.724 1.775-.593-2-5.999z"></path>
                        </svg>
                      </div>
                    </td>
                    <td class="px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap">
                      {{ m.accessionDate }}
                    </td>
                    <td class="px-4 py-4 text-sm whitespace-nowrap">
                      <div class="flex items-center gap-x-6">
                        <button
                          class="text-gray-500 transition-colors duration-200 dark:hover:text-indigo-500 dark:text-gray-300 hover:text-indigo-500 focus:outline-none">
                          details
                        </button>
                      </div>
                    </td>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </section>
        <div class="absolute bottom-10 px-7 w-full left-0 z-40">
          <div class="flex flex-wrap items-center justify-between">
            <button (click)="previousPage()" [disabled]="currentPage <= 0"
                    class="flex items-center shadow-sm px-5 py-2 disabled:cursor-not-allowed text-sm text-gray-700 capitalize transition-colors duration-200 bg-transparent border rounded-md gap-x-2 hover:bg-gray-100 dark:bg-gray-900 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-800">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                   stroke="currentColor"
                   class="w-5 h-5 rtl:-scale-x-100">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"/>
              </svg>

              <span>
                previous
          </span>
            </button>

            <div class="items-center hidden md:flex gap-x-3">
              <a *ngFor="let i of Range(totalPages)" (click)="goToPage(i)"
                 class="px-2 py-1 text-sm rounded-md cursor-pointer"
                 [class]="currentPage == i ? 'text-white bg-[#7bbcd1] dark:bg-[#295e6e]':'text-gray-400 dark:bg-gray-800 bg-blue-100/60'">{{ i }}</a>
            </div>

            <button (click)="nextPage()" [disabled]="currentPage >= this.totalPages - 1"
                    class="flex items-center px-5 py-2 disabled:cursor-not-allowed text-sm text-gray-700 capitalize transition-colors duration-200 bg-transparent rounded-md gap-x-2 border hover:bg-gray-100 dark:bg-gray-900 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-800">
            <span>
                Next
            </span>

              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                   stroke="currentColor"
                   class="w-5 h-5 rtl:-scale-x-100">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
      <app-ocean
        class="opacity-40 absolute top-0 w-full h-full left-0 z-0"
      ></app-ocean>
      <app-waves
        class="opacity-[0.07] dark:opacity-[0.01] absolute bottom-0 w-full left-0 z-0 rounded-3xl"
      >
      </app-waves>
    </div>
  </tui-loader>
</ng-container>
